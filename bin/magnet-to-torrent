#!/usr/bin/env bash

[[ ! "$1" =~ xt=urn:btih:([^&/]+) ]] && { echo "Error: Argument 1 must be a valid magnet link." && exit 1; }
DOWNLOAD_DIR=${XDG_DOWNLOAD_DIR:-"$HOME/Downloads"}
echo "d10:magnet-uri${#1}:${1}e" > "$DOWNLOAD_DIR/meta-${BASH_REMATCH[1]}.torrent"
