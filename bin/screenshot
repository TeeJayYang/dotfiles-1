#!/usr/bin/env sh

PICTURES_DIR=${XDG_PICTURES_DIR:-"$HOME/Pictures"}
file="$PICTURES_DIR/Screenshots/$(date +%s).png"

if [ "$1" = "-s" ]; then
  # Screenshot area.
  slop=$(slop -f "%g") || exit 1
  import -window root -crop "$slop" "$file"
  notify-send -u "low" "Took screenshot (area)"
else
  # Screenshot entire desktop.
  scrot "$file"
  notify-send -u "low" "Took screenshot (desktop)"
fi

xclip "$file" -selection clipboard -t image/png
